<div class="stage--front">
	<canvas
		id="webgl-canvas"
		class="webgl-canvas-normal"
		width="1400px"
		height="700px"
		oncontextmenu="return false;"
		data-autoplay="true"
		data-graph-url="http://vizor.io/data/graph/kschzt/landing-mountains.min.json"
		>
	</canvas>

	<div class="frontpage-text-center">
		<div class="content">
			<img src="images/vizor_logo.svg" id="logo">

			<h2 class="lead">
				Build compelling VR experiences right in your browser.
			</h2>

			<h2 class="thin white">
				<a class="" href="/edit">Get Started</a>
			</h2>
		</div>
	</div>
</div>

<footer class="footer">
	<div class="footer-text">
		<a href="https://www.youtube.com/channel/UClYzX_mug6rxkCqlAKdDJFQ">YouTube Tutorials</a> <span>&middot;</span>
		<a href="https://twitter.com/Vizor_VR">Twitter</a> <span>&middot;</span>
		<a href="https://github.com/vizorvr/vizor-create">GitHub</a>
	</div>
</footer>

<script>
	var $canvas = $('#webgl-canvas')
	var $window = $(window)
	var $stage = $('.stage--front')
	var footerHeight = 76

	function onResize() {
		E2.core.renderer.fullscreen = true

		setTimeout(function() {

			var width = $window.width()
			var height = $window.height() - footerHeight
			var devicePixelRatio = window.devicePixelRatio || 1;
			var pixelRatioAdjustedWidth = devicePixelRatio * width;
			var pixelRatioAdjustedHeight = devicePixelRatio * height;

			$canvas[0].width = pixelRatioAdjustedWidth
			$canvas[0].height = pixelRatioAdjustedHeight
			$stage.css('width', width + 'px')
			$stage.css('height', height + 'px')

			E2.core.renderer.update_viewport()

		}, 20)
	}

	$(window).on('resize', onResize)
	$(window).on('vizorLoaded', onResize)
</script>
